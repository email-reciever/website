---
layout: ../../layouts/BlogLayout.astro
title: Principles for doing Node right at scale
description: Principles for doing Node right at scale
date: 星期二 02 下午 九月 24o 2024
author: nodeweekly
origin_url: https://nodeweekly.com/issues/549
origin_site: https://nodeweekly.com/issues/549
translated: true
avatar: /media-source/nodeweekly-ico.png
email_recorder: node@cooperpress.com
---

import { Detail } from '@/components/Detail.tsx';
import { Reference } from '@/components/Reference.tsx';

<Reference client:only="react" title="Principles for doing Node right at scale" url="https://nodeweekly.com/issues/549" />

<Detail client:only="react">
	#​549 — September 24, 2024

[Read on the Web](https://nodeweekly.com/issues/549)

Together with 

[![WorkOS](https://res.cloudinary.com/cpress/image/upload/c_fill,g_auto,w_514,h_98/e_make_transparent/co_white,e_outline:9/tdfxwgk852ui9leli4wm.png)](https://nodeweekly.com/link/160107/0a4070b383)

![Node.js Weekly](https://res.cloudinary.com/cpress/image/upload/v1653576619/lgfqinzbdqttwmhvljxb.png)

[![](https://res.cloudinary.com/cpress/image/upload/w_1280,e_sharpen:60,q_auto/tjxb74avjrchrg2kc4pg.jpg)](https://nodeweekly.com/link/160108/0a4070b383)

[The Nine Node Pillars: Principles for Doing Node Right in the Enterprise](https://nodeweekly.com/link/160108/0a4070b383 "www.platformatichq.com") — An interesting resource from a group of prolific and productive Node.js contributors. It’s designed to act as a checklist to identify gaps in your current Node development practices, particularly when building larger scale apps.

Snell, Venditto, Dawson, Collina, et al.

[Node v22.9.0 (Current) Released](https://nodeweekly.com/link/160109/0a4070b383 "nodejs.org") — The latest cutting edge Node has a new API for retrieving the stack trace of the current execution. It also disables V8’s [Maglev](https://nodeweekly.com/link/160143/0a4070b383) optimizing JIT due to upstream reliability problems and the necessity for Node v22 to stick with V8 v12.4 when it goes LTS next month.

Rafael Gonzaga

[![](https://copm.s3.amazonaws.com/f1a6594d.png)](https://nodeweekly.com/link/160107/0a4070b383)

[WorkOS Enterprise Ready Conference](https://nodeweekly.com/link/160107/0a4070b383 "www.enterprise-ready.com") — A one-day event in SF for product and engineering leaders shaping the future of enterprise SaaS. Speakers from **OpenAI, Asana, Slack, Canva, Vanta,** and more. Topics will include user identity, compliance, encryption, and logging — common features you need to support to sell to enterprises.

WorkOS sponsor

[What's New in Express.js 5.0](https://nodeweekly.com/link/160110/0a4070b383 "www.trevorlasn.com") — [We mentioned](https://nodeweekly.com/issues/547) Express 5.0 and some of its new features recently, but here's a deeper look at what it has to offer. The updates are largely incremental, but set the stage for Express’s future. A few breaking changes necessitate the major version bump.

Trevor I. Lasn

📺 If you'd prefer a live, video walkthrough, CJ of _Coding Garden_ has one in '[Express v5 is Here](https://nodeweekly.com/link/160112/0a4070b383)' over on YouTube.

**IN BRIEF:**

*   🎉 It's not just Express hitting 5.0, [Fastify v5 has been officially released too.](https://nodeweekly.com/link/160113/0a4070b383) There's a [complete v5 migration guide](https://nodeweekly.com/link/160144/0a4070b383) if you want to upgrade.
    
*   🇪🇺 [NodeConf EU is back.](https://nodeweekly.com/link/160114/0a4070b383) It takes place in Ireland this November 3-6.
    

[Now You Can Compile and Run C in JavaScript](https://nodeweekly.com/link/160115/0a4070b383 "bun.sh") — Well, if you’re using [Bun](https://nodeweekly.com/link/160116/0a4070b383), anyway. [Bun v1.1.28](https://nodeweekly.com/link/160117/0a4070b383) lands experimental support for compiling and native C code and then running its functions from JavaScript.

Jarred Sumner (Bun)

[A Comprehensive Guide to Node.js Addons](https://nodeweekly.com/link/160118/0a4070b383 "mertcan.vercel.app") — If you’d rather stick with Node than use Bun’s newest feature to bring C/C++ etc. into JavaScript, writing your own addon remains a dependable approach.

Mert Can Altin

[Roll Your Own Autoscaler](https://nodeweekly.com/link/160119/0a4070b383 "judoscale.com") — Prefer to keep your autoscaling in-house? Here’s how we built ours.

Judoscale sponsor

📄 [Node 20 Upgrade: A Journey Through Unexpected Heap Issues with Kubernetes](https://nodeweekly.com/link/160120/0a4070b383) Ztec / Deezer

📄 [Getting Started with Testcontainers for Node.js](https://nodeweekly.com/link/160121/0a4070b383) Ajeet Raina

📄 [Why We Switched from Cypress to Playwright](https://nodeweekly.com/link/160122/0a4070b383) S Varun (BigBinary)

🛠 Code & Tools

[![](https://res.cloudinary.com/cpress/image/upload/w_1280,e_sharpen:60,q_auto/iisfvhhppyzgklxe0ve7.jpg)](https://nodeweekly.com/link/160123/0a4070b383)

[Deno 2.0 Release Candidate](https://nodeweekly.com/link/160123/0a4070b383 "deno.com") — Deno started life as a manifestation of ideas that Node’s original creator, Ryan Dahl, had after his experiences with Node. Deno 2 is the next step: how the Deno team thinks _Deno_ should ultimately be. Many changes await: `window` is gone and Node’s `process` appears, dependency management has been improved, numerous APIs have gone stable (e.g. WebGPU), and both Node.js API and CommonJS support have continued to improve.

Bartek Iwańczuk and Andy Jiang

[ts-remove-unused: Remove Unused Code from TypeScript Projects](https://nodeweekly.com/link/160124/0a4070b383 "github.com") — A tool to auto-fix unused exports and delete modules that have no referenced exports. [Knip](https://nodeweekly.com/link/160125/0a4070b383) is another established tool in this space focused more on _detecting_ removable things.

LINE

📰 Classifieds

🚀 [Run, scale & secure your Node.js apps in one command](https://nodeweekly.com/link/160126/0a4070b383). Works for your stack. Just plug & play.

* * *

🟢 [Node.js user?](https://nodeweekly.com/link/160127/0a4070b383) Here are 9 guiding principles for creating robust, scalable & maintainable apps in enterprise environments.

[ts-blank-space: Fast Type-Stripping TypeScript to JS Compiler](https://nodeweekly.com/link/160128/0a4070b383 "bloomberg.github.io") — It’s job is simple. Be the fastest TS to JS compiler written in JS (it’s 5.6x faster than `tsc`.) Types are simply replaced with whitespace. It preserves the coordinates of the JS code which eliminates the need for sourcemaps entirely.

Ashley Claymore / Bloomberg

[libpg-query-node: Postgres' SQL Parser, Exposed for Node](https://nodeweekly.com/link/160129/0a4070b383 "github.com") — Use Postgres’s SQL parser at a low level from Node via libpg\_query. If you want something higher level, this library is used by [pgsql-parser](https://nodeweekly.com/link/160130/0a4070b383) which gives the ability to parse and serialize queries into/from ASTs.

Dan Lynch

💌 And if you're into Postgres, be sure to [check out our Postgres newsletter.](https://nodeweekly.com/link/160131/0a4070b383)

[Piscina 4.7: Node.js Worker Pool Library](https://nodeweekly.com/link/160132/0a4070b383 "piscinajs.github.io") — Efficiently run CPU-intensive tasks in parallel using [worker threads](https://nodeweekly.com/link/160133/0a4070b383) in a controlled manner. [GitHub repo.](https://nodeweekly.com/link/160134/0a4070b383)

James M Snell et al.

*   [WebdriverIO 9.1](https://nodeweekly.com/link/160135/0a4070b383) – Browser and mobile automation test framework for Node.
    
*   [aws-lambda-fastify 5.0](https://nodeweekly.com/link/160136/0a4070b383) – Run Fastify v5 apps on AWS Lambda.
    
*   [Verdaccio 6.0](https://nodeweekly.com/link/160137/0a4070b383) – Lightweight Node.js private proxy registry.
    
*   [pnpm 9.11](https://nodeweekly.com/link/160138/0a4070b383) – The fast, efficiency-focused package manager.
    
*   [zx 8.1.8](https://nodeweekly.com/link/160139/0a4070b383) – Google's tool for better Node shell scripting.
    
*   [NodeBB 3.9](https://nodeweekly.com/link/160140/0a4070b383) – Node.js-powered forum system.
    
*   [Strapi 5.0](https://nodeweekly.com/link/160141/0a4070b383) – Popular Node.js headless CMS.
    
*   [OpenAI Node API Library v4.63.0](https://nodeweekly.com/link/160142/0a4070b383)
    

**Got a link for us?** Reply and tell us. We can't include everything but we'll look at anything you send. _Thanks!_

* * *

**Sponsorship:** Email `[kristina@cooperpress.com](mailto:kristina@cooperpress.com)` for details.

* * *

Published by Cooper Press Ltd.  
Fairfield Enterprise Centre, Louth, LN11 0LS, United Kingdom


</Detail>

\#​549 — 2024 年 9 月 24 日

[网上阅读](https://nodeweekly.com/issues/549)

连同 

\[![WorkOS](https://res.cloudinary.com/cpress/image/upload/c_fill,g_auto,w_514,h_98/e_make_transparent/co_white,e_outline:9/tdfxwgk852ui9leli4wm.png)]\(https://nodeweekly. com/link/160107/0a4070b383)

![Node.js 周刊](https://res.cloudinary.com/cpress/image/upload/v1653576619/lgfqinzbdqttwmhvljxb.png)

[![](https://res.cloudinary.com/cpress/image/upload/w_1280,e_sharpen:60,q_auto/tjxb74avjrchrg2kc4pg.jpg)](https://nodeweekly.com/link/160108/0a4070b383)

[九个节点支柱：在企业中正确执行节点的原则](https://nodeweekly.com/link/160108/0a4070b383 "www.platformatichq.com") — 来自一群多产且高效的 Node.js 团队的有趣资源。 js 贡献者。它旨在充当检查表，以识别当前 Node 开发实践中的差距，特别是在构建更大规模的应用程序时。

斯内尔、文迪托、道森、科里纳等人。

[Node v22.9.0（当前）发布](https://nodeweekly.com/link/160109/0a4070b383 "nodejs.org") — 最新的前沿 Node 有一个新的 API，用于检索当前执行的堆栈跟踪。由于上游可靠性问题以及 Node v22 在下个月进入 LTS 时必须坚持使用 V8 v12.4，它还禁用了 V8 的 [Maglev](https://nodeweekly.com/link/160143/0a4070b383) 优化 JIT。

拉斐尔冈萨加

[![](https://copm.s3.amazonaws.com/f1a6594d.png)](https://nodeweekly.com/link/160107/0a4070b383)

[WorkOS Enterprise Ready 会议](https://nodeweekly.com/link/160107/0a4070b383 "www.enterprise-ready.com") — 在旧金山举行的为期一天的活动，面向塑造企业 SaaS 未来的产品和工程领导者。来自**OpenAI、Asana、Slack、Canva、Vanta、** 等的演讲者。主题将包括用户身份、合规性、加密和日志记录——向企业销售产品时需要支持的常见功能。

WorkOS赞助商

[Express.js 5.0 的新增功能](https://nodeweekly.com/link/160110/0a4070b383 "www.trevorlasn.com") — [我们提到](https://nodeweekly.com/issues/547) Express最近发布了 5.0 及其一些新功能，但这里更深入地介绍了它所提供的功能。这些更新很大程度上是渐进式的，但为 Express 的未来奠定了基础。一些重大更改需要主要版本更新。

特雷弗·拉森

📺 如果您想要现场视频演练，*Coding Garden* 的 CJ 在 YouTube 上的“[Express v5 is Here](https://nodeweekly.com/link/160112/0a4070b383)”中提供了一个。

**简而言之：**

* 🎉 不只是 Express 达到 5.0，[Fastify v5 也已正式发布。](https://nodeweekly.com/link/160113/0a4070b383) 还有一个\[完整的 v5 迁移指南]\(https://nodeweekly.com /link/160144/0a4070b383）如果您想升级。

* 🇪🇺 [NodeConf EU 回来了。](https://nodeweekly.com/link/160114/0a4070b383) 它将于今年 11 月 3 日至 6 日在爱尔兰举行。

[现在您可以在 JavaScript 中编译并运行 C](https://nodeweekly.com/link/160115/0a4070b383 "bun.sh") — 好吧，如果您使用 \[Bun]\(https://nodeweekly.com /link/160116/0a4070b383）无论如何。 [Bun v1.1.28](https://nodeweekly.com/link/160117/0a4070b383) 提供了对编译和本机 C 代码的实验性支持，然后从 JavaScript 运行其函数。

贾里德·萨姆纳 (Bun)

[Node.js 插件综合指南](https://nodeweekly.com/link/160118/0a4070b383 "mertcan.vercel.app") — 如果您宁愿坚持使用 Node 而不是使用 Bun 的最新功能来引入 C/将 C++ 等移植到 JavaScript 中，编写自己的插件仍然是一种可靠的方法。

默特·坎·阿尔廷

[推出您自己的自动缩放器](https://nodeweekly.com/link/160119/0a4070b383 "judoscale.com") — 更愿意在内部进行自动缩放？以下是我们的构建方式。

柔道赞助商

📄 [Node 20 升级：Kubernetes 意外堆问题之旅](https://nodeweekly.com/link/160120/0a4070b383) Ztec / Deezer

📄 [Node.js 测试容器入门](https://nodeweekly.com/link/160121/0a4070b383) Ajeet Raina

📄 [为什么我们从 Cypress 切换到 Playwright](https://nodeweekly.com/link/160122/0a4070b383) S Varun (BigBinary)

🛠 代码和工具

[![](https://res.cloudinary.com/cpress/image/upload/w_1280,e_sharpen:60,q_auto/iisfvhhppyzgklxe0ve7.jpg)](https://nodeweekly.com/link/160123/0a4070b383)

[Deno 2.0 候选版本](https://nodeweekly.com/link/160123/0a4070b383 "deno.com") — Deno 的诞生是 Node 的原始创建者 Ryan Dahl 在使用 Node 后所产生的想法的体现。 Deno 2 是下一步：Deno 团队认为 *Deno* 最终应该是什么样子。许多变化正在等待：“window”消失，Node 的“process”出现，依赖管理得到改进，许多 API 变得稳定（例如 WebGPU），Node.js API 和 CommonJS 支持都在持续改进。

Bartek Iwanczuk 和 Andy Jiang

[ts-remove-unused：从 TypeScript 项目中删除未使用的代码](https://nodeweekly.com/link/160124/0a4070b383 "github.com") — 一个自动修复未使用的导出并删除没有引用的模块的工具出口。 [Knip](https://nodeweekly.com/link/160125/0a4070b383) 是该领域的另一个成熟工具，更多地专注于*检测*可移动的东西。

线

📰 分类广告

🚀 [通过一个命令运行、扩展和保护您的 Node.js 应用程序](https://nodeweekly.com/link/160126/0a4070b383)。适用于您的堆栈。即插即用。

***

🟢 [Node.js 用户？](https://nodeweekly.com/link/160127/0a4070b383) 以下是在企业环境中创建强大、可扩展且可维护的应用程序的 9 条指导原则。

[ts-blank-space：快速将 TypeScript 类型剥离为 JS 编译器](https://nodeweekly.com/link/160128/0a4070b383 "bloomberg.github.io") — 它的工作很简单。成为用 JS 编写的最快的 TS 到 JS 编译器（比 `tsc` 快 5.6 倍）。类型只需用空格替换。它保留了 JS 代码的坐标，从而完全消除了对源映射的需要。

阿什利克莱莫尔/彭博社

[libpg-query-node: Postgres 的 SQL 解析器，为 Node 公开](https://nodeweekly.com/link/160129/0a4070b383 "github.com") — 通过 libpg\ 在 Node 的低级别使用 Postgres 的 SQL 解析器\_询问。如果您想要更高级别的东西，[pgsql-parser](https://nodeweekly.com/link/160130/0a4070b383) 使用此库，它提供了解析和序列化 AST 查询的能力。

丹·林奇

💌 如果您喜欢 Postgres，请务必[查看我们的 Postgres 时事通讯。](https://nodeweekly.com/link/160131/0a4070b383)

[Piscina 4.7：Node.js 工作池库](https://nodeweekly.com/link/160132/0a4070b383 "piscinajs.github.io") — 使用\[工作线程]\(https: //nodeweekly.com/link/160133/0a4070b383）以受控方式。 [GitHub 存储库。](https://nodeweekly.com/link/160134/0a4070b383)

詹姆斯·M·斯内尔等人

* [WebdriverIO 9.1](https://nodeweekly.com/link/160135/0a4070b383) – Node.js 的浏览器和移动自动化测试框架。

* [aws-lambda-fastify 5.0](https://nodeweekly.com/link/160136/0a4070b383) – 在 AWS Lambda 上运行 Fastify v5 应用程序。

* [Verdaccio 6.0](https://nodeweekly.com/link/160137/0a4070b383) – 轻量级 Node.js 私有代理注册表。

* [pnpm 9.11](https://nodeweekly.com/link/160138/0a4070b383) – 快速、注重效率的包管理器。

* [zx 8.1.8](https://nodeweekly.com/link/160139/0a4070b383) – Google 用于更好地编写 Node shell 脚本的工具。

* [NodeBB 3.9](https://nodeweekly.com/link/160140/0a4070b383) – Node.js 支持的论坛系统。

* [Strapi 5.0](https://nodeweekly.com/link/160141/0a4070b383) – 流行的 Node.js 无头 CMS。

* [OpenAI节点API库v4.63.0](https://nodeweekly.com/link/160142/0a4070b383)

**有我们的链接吗？** 回复并告诉我们。我们无法包含所有内容，但我们会查看您发送的所有内容。 *谢谢！*

***

**赞助：** 发送电子邮件至“&lt;kristina@cooperpress.com>”了解详细信息。

***

由库珀出版社有限公司出版\
费尔菲尔德企业中心, 劳斯, LN11 0LS, 英国


