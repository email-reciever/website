---
layout: ../../layouts/BlogLayout.astro
title: RD#449 Flaky Tests In React： Detection, Prevention and Tools
description: RD#449 Flaky Tests In React： Detection, Prevention and Tools
date: 星期一 04 下午 四月 1o 2024
author: reactdigest
origin_url: =?us-ascii?Q?https=3A=2F=2Fnewsletter=2Ereactdigest=2Enet=2Fp=2Fflaky-tests-react-detecti?= =?us-ascii?Q?on-prevention-tools?=
origin_site: =?us-ascii?Q?https=3A=2F=2Fnewsletter=2Ereactdigest=2Enet=2Fp=2Fflaky-tests-react-detecti?= =?us-ascii?Q?on-prevention-tools?=
translated: true
avatar: /media-source/reactdigest-ico.png
---

import { Detail } from '@/components/Detail.tsx';
import { Reference } from '@/components/Reference.tsx';

<Reference client:only="react" title="RD#449 Flaky Tests In React： Detection, Prevention and Tools" url="=?us-ascii?Q?https=3A=2F=2Fnewsletter=2Ereactdigest=2Enet=2Fp=2Fflaky-tests-react-detecti?= =?us-ascii?Q?on-prevention-tools?=" />

<Detail client:only="react">
	[Read Online](https://link.mail.beehiiv.com/ss/c/u001.3mTwTBe_1W4fLvRj4unk8hErXB2vrDHg5DYaj51xP1V7MnuGy12VmdAYUnYqBxpwlmmQ-CiOANZjdc0Ybb1XQowLANZllI00duLaYiSlMsDWqHIEVFOjcl5SgiP-tRyjgjKPzLQ998_43AvcXDXPzmbFqPSwqQFnAOTjI5u8HiQymfEF3EG-1BIMwY7WZzBFMTSILXkVPIX114KdqGFt8I0pLwI0WS6uUq_e8jn1ZCXWEP4qQBG9IrKeFeMeKicShHnuzm3aBrgnrXcCEPB3FjXZl8Aq_zZr_CQsIAu_Scy3jBnBNnNV21bGksYkDJF0quGssYEZ9S6gr-uXW3CTNLgCnuNujSz7WArqSiBH4bpc9W1Fsf-vbjX_4CMChFoRyPvgndq_LrJDIFSTqsv6jiO1LgcLcSVfGEFmytshLl15ZFrIsZ-KC4gYGCF6D918ZK4diJIqPJSGUeEb5adSHaao_hFs-4lX-XjPvFkMl06SPul2q_Ay-NUkIGKxTQmr6pA04Grcq6ibEJCvyjIGSSJlirFR5xfnetfbEiepMUUmpkVugaFwF4ocud0v-zQc_rIw-miIWzG-LC5THyeI0CR_ujWQe2asA0J0X5ROonZcn7XK6Wldc5Z_uGp_l9hAv3vZjDdGLwpvAcEva-DI7FyZZ7k3odAW1V-Khp4QJixvBfefoX6vy8kS5r1f6E_flUzjd5LmLqC9p_q1EVHQTw/455/hTSmS2ZqQ9CxYYAd6uiYdg/h0/h001.Ay67tU1ykclDNdYzS7HQryDP1SzofsOfVfGWpRTRWgw)

![](https://link.mail.beehiiv.com/ss/o/u001.Btu2bd7uwPPtNpvEhFUmtA/455/hTSmS2ZqQ9CxYYAd6uiYdg/ho.gif)

[Flaky Tests In React: Detection, Prevention and Tools](https://link.mail.beehiiv.com/ss/c/u001.umaHyWnMavjtWWn_0mUAO7Xeh93nnKEe_x2Irs-5DUOtu4jDY0RQa2p_juDc02dJDZ7B6XRxg5pJzSOoaPtTanNBI8GLfV1a1ozNK7a4ZXlPYmOR9pqLCM9BprR5EiFSt2h-xk2AaVuam537iLn9u8-tgWuH2zxqzHe80OTTTT-Yjnr_64fj6HCGIfkFNoozzJ-d5fRGCadxFYrec6opGlGkzDEpuCYt0Mzkoq645E0/455/hTSmS2ZqQ9CxYYAd6uiYdg/h1/h001.Jmi9-56VuQrPuSJW17NRUNxhpA0-whylEznkrcSPEjU)  
_15 minutes_ by Victor Ayomipo, Tomas Fernandez

This guide explores the causes, detection, and fixes for flaky tests in React, ensuring code quality and a smooth user experience.

[Omlet React Analytics - Measure component & prop adoption](https://link.mail.beehiiv.com/ss/c/u001.GyLXS_kgZ_zhliVlX2b_SWCnHaEmu0ZUjW34u1J7dvkG4olRn3Sz0yD_F5iiryaJOSEKB1qmku6M6Vt4FBtbuNd8yv_3ixcetNvERSd2PW8/455/hTSmS2ZqQ9CxYYAd6uiYdg/h2/h001.n2Fw3b5VJO6GK-M8y8kgrmLhv8jQZIsUgq3Ly-oIBQc)  
_sponsored by Omlet_

Imagine being able to track most popular, least used, unused, and newly created React components and props directly in your code. Gain visibility into component and prop usage in your codebase and drill down into trends and gaps. Turn insights into specific codebase improvements — like what code to update, deprecate, or migrate. It takes 5 minutes to set up.

[React useEffect and objects as dependency](https://link.mail.beehiiv.com/ss/c/u001.XGHModMy7yto-RjzmaUKhYf6Tadtz5p3wSZz-URRP1uAFAta-gvlDeRLxYGk0SMNgMhLhiXJOmQPUONc7byIdTj0PW2470cY6EXx87jzD6ZS_nN3LslpgpMpud1Mq3iCGRpCYI6RS8K_rBJ3_Cew8zPF4Rq5YiCFs_iW13mO3xWJYwfP54R0upeO1OZXXOyJkREzHYRMoy0I84Bm7oDSrlb94YWdxwOtRN8B-WhgOJyWZB3WzsSg3-ckFZvzGo7dNMJHOqdZxBWLQKR6o8VJZQ/455/hTSmS2ZqQ9CxYYAd6uiYdg/h3/h001.KRXq9g2N05GMVmMpSWe7Ls6ztGWfBeOg2rnirEh9sqE)  
_4 minutes_ by Johannes Kettmann

React’s useEffect hook can lead to tricky situations. If you’re not careful it can cause unnecessary executions of the effect or even infinite re-renders. Especially when using objects as dependencies. Here are 4 approaches that avoid unnecessary executions.

[What is a layout in React?](https://link.mail.beehiiv.com/ss/c/u001.96pnkUdR2Et9YTtP31beqZ-pyUg2ztC9LxMbdIC_TPg-gsADU5HyAwfiKwCNXkyYUoFU1WVotEF0XRlH3zhx7nKN3qWavBKWdTG0zTJ0L8ifITT2kZnFmHT63r4GudLllnVNBijMCxw41IJve0zlAhRiXIgdruvq-R-ECdnDR5Wso3WLD7IsB70ONfoa1yKa_B3CGWkBT5eOeFkzFXMlynu_KfjDMPqeTykrhlnSM3j2FBM2NE2w9DKlnRB1tmYd/455/hTSmS2ZqQ9CxYYAd6uiYdg/h4/h001.4Ns9Qj-3HfigGWATThKivlMqOj9KDvUSDUChgme6_lk)  
_7 minutes_ by Eric Burel

Layout, pages, components are core concepts of React development.

[A faster React.memo()](https://link.mail.beehiiv.com/ss/c/u001.UBh74i5ibvpiWu-3SxqXvvwS6kwU-gqlGsjl_HDVu60YWa32htQ-MLShVSsAXZ6gZzSLI3DVZDtOcXobzgi7sUrnduQ_J6eELxC1p2_9x2w7_1lgVP9A_HbUTMA3vnz4CVkk7WvaXhYm_ep1aopjDq2fH4JIab3s_76a5AzjAdOCQiE2Rj-wJPomPGzIihjER0_fT1C6URo5_kqHi8qXu6B-ebBNx-f8YFBxHzDS1WU/455/hTSmS2ZqQ9CxYYAd6uiYdg/h5/h001.b5b2fdqmDbA2rDD3WktcgGA8nG4us9WpkfJ-fehq7qk)  
_7 minutes_ by romgrk

Recently, I spent time optimizing React code, and the obvious answer is, as always, React.memo(). So to speed things up I added a bunch of them everywhere because you should memo all the things by default anyway. This lead me to think if there was a way to make React.memo() faster.

[Power of Partial Prerendering with Bun](https://link.mail.beehiiv.com/ss/c/u001.DNYuWskNLZN5iE3d5ylPw9Yzs-bcwnEVCWGYi6hqVE6M5kh_ez1loQcYC8sKrYb9QVyXaEgZkfHM4HE9jO__KTcieOkxFRi6tMoC54_kzkppcpacj8YMAdtUra8UdoJVcfRV3V1GIMzBupI9YWgRKhQR2ZfX_kgfojZJosyiE4uZ6DmvLb86hZ8OGwrL_V25mFcJ9G9RyyW8v_A1Bhds22Zt50H7wHPg6RK-07LehExy5ztvtdC9c484PxRiUkKS/455/hTSmS2ZqQ9CxYYAd6uiYdg/h6/h001.lIvt4TLaj0hgbFOw78TxSb3hSTGmiljZaoyruWseU98)  
_5 minutes_ by Aral Roca

Unlock the power of partial pre-rendering with Bun, optimizing web application performance and package size effortlessly.

#
</Detail>

[阅读在线](https://link.mail.beehiiv.com/ss/c/u001.3mTwTBe_1W4fLvRj4unk8hErXB2vrDHg5DYaj51xP1V7MnuGy12VmdAYUnYqBxpwlmmQ-CiOANZjdc0Ybb1XQowLANZllI00duLaYiSlMsDWqHIEVFOjcl5SgiP-tRyjgjKPzLQ998_43AvcXDXPzmbFqPSwqQFnAOTjI5u8HiQymfEF3EG-1BIMwY7WZzBFMTSILXkVPIX114KdqGFt8I0pLwI0WS6uUq_e8jn1ZCXWEP4qQBG9IrKeFeMeKicShHnuzm3aBrgnrXcCEPB3FjXZl8Aq_zZr_CQsIAu_Scy3jBnBNnNV21bGksYkDJF0quGssYEZ9S6gr-uXW3CTNLgCnuNujSz7WArqSiBH4bpc9W1Fsf-vbjX_4CMChFoRyPvgndq_LrJDIFSTqsv6jiO1LgcLcSVfGEFmytshLl15ZFrIsZ-KC4gYGCF6D918ZK4diJIqPJSGUeEb5adSHaao_hFs-4lX-XjPvFkMl06SPul2q_Ay-NUkIGKxTQmr6pA04Grcq6ibEJCvyjIGSSJlirFR5xfnetfbEiepMUUmpkVugaFwF4ocud0v-zQc_rIw-miIWzG-LC5THyeI0CR_ujWQe2asA0J0X5ROonZcn7XK6Wldc5Z_uGp_l9hAv3vZjDdGLwpvAcEva-DI7FyZZ7k3odAW1V-Khp4QJixvBfefoX6vy8kS5r1f6E_flUzjd5LmLqC9p_q1EVHQTw/455/hTSmS2ZqQ9CxYYAd6uiYdg/h0/h001.Ay67tU1ykclDNdYzS7HQryDP1SzofsOfVfGWpRTRWgw)

![](https://link.mail.beehiiv.com/ss/o/u001.Btu2bd7uwPPtNpvEhFUmtA/455/hTSmS2ZqQ9CxYYAd6uiYdg/ho.gif)

[Flaky Tests in React:检测,预防和工具](https://link.mail.beehiiv.com/ss/c/u001.umaHyWnMavjtWWn_0mUAO7Xeh93nnKEe_x2Irs-5DUOtu4jDY0RQa2p_juDc02dJDZ7B6XRxg5pJzSOoaPtTanNBI8GLfV1a1ozNK7a4ZXlPYmOR9pqLCM9BprR5EiFSt2h-xk2AaVuam537iLn9u8-tgWuH2zxqzHe80OTTTT-Yjnr_64fj6HCGIfkFNoozzJ-d5fRGCadxFYrec6opGlGkzDEpuCYt0Mzkoq645E0/455/hTSmS2ZqQ9CxYYAd6uiYdg/h1/h001.Jmi9-56VuQrPuSJW17NRUNxhpA0-whylEznkrcSPEjU)\
*十五分钟*作者:Victor Ayomipo,Tomas Fernandez

本指南探讨 React 中的错误测试的原因、检测和修复,确保代码质量和无缝的用户体验。

[Omlet React Analytics - 测量组件和支持采用](https://link.mail.beehiiv.com/ss/c/u001.GyLXS_kgZ_zhliVlX2b_SWCnHaEmu0ZUjW34u1J7dvkG4olRn3Sz0yD_F5iiryaJOSEKB1qmku6M6Vt4FBtbuNd8yv_3ixcetNvERSd2PW8/455/hTSmS2ZqQ9CxYYAd6uiYdg/h2/h001.n2Fw3b5VJO6GK-M8y8kgrmLhv8jQZIsUgq3Ly-oIBQc)\
*由 Omlet 赞助*

想象一下,你可以直接在你的代码中跟踪最流行的、最少使用的、未使用的和新创建的 React 组件和辅助功能。在你的代码库中获得组件和辅助功能的可见性,并挖掘趋势和差距。

[反應使用效應和對象作為依賴](https://link.mail.beehiiv.com/ss/c/u001.XGHModMy7yto-RjzmaUKhYf6Tadtz5p3wSZz-URRP1uAFAta-gvlDeRLxYGk0SMNgMhLhiXJOmQPUONc7byIdTj0PW2470cY6EXx87jzD6ZS_nN3LslpgpMpud1Mq3iCGRpCYI6RS8K_rBJ3_Cew8zPF4Rq5YiCFs_iW13mO3xWJYwfP54R0upeO1OZXXOyJkREzHYRMoy0I84Bm7oDSrlb94YWdxwOtRN8B-WhgOJyWZB3WzsSg3-ckFZvzGo7dNMJHOqdZxBWLQKR6o8VJZQ/455/hTSmS2ZqQ9CxYYAd6uiYdg/h3/h001.KRXq9g2N05GMVmMpSWe7Ls6ztGWfBeOg2rnirEh9sqE)\
*四分钟*约翰内斯凯特曼

React 的使用 效应钩可以导致麻烦的局面. 如果你不小心,它可以导致不必要的效果执行,甚至无限的重现。

[什么是React中的Layout?](https://link.mail.beehiiv.com/ss/c/u001.96pnkUdR2Et9YTtP31beqZ-pyUg2ztC9LxMbdIC_TPg-gsADU5HyAwfiKwCNXkyYUoFU1WVotEF0XRlH3zhx7nKN3qWavBKWdTG0zTJ0L8ifITT2kZnFmHT63r4GudLllnVNBijMCxw41IJve0zlAhRiXIgdruvq-R-ECdnDR5Wso3WLD7IsB70ONfoa1yKa_B3CGWkBT5eOeFkzFXMlynu_KfjDMPqeTykrhlnSM3j2FBM2NE2w9DKlnRB1tmYd/455/hTSmS2ZqQ9CxYYAd6uiYdg/h4/h001.4Ns9Qj-3HfigGWATThKivlMqOj9KDvUSDUChgme6_lk)\
*七分钟*埃里克·布雷尔

布局、页面、组件是React开发的核心概念。

[一个更快的 React.memo()](https://link.mail.beehiiv.com/ss/c/u001.UBh74i5ibvpiWu-3SxqXvvwS6kwU-gqlGsjl_HDVu60YWa32htQ-MLShVSsAXZ6gZzSLI3DVZDtOcXobzgi7sUrnduQ_J6eELxC1p2_9x2w7_1lgVP9A_HbUTMA3vnz4CVkk7WvaXhYm_ep1aopjDq2fH4JIab3s_76a5AzjAdOCQiE2Rj-wJPomPGzIihjER0_fT1C6URo5_kqHi8qXu6B-ebBNx-f8YFBxHzDS1WU/455/hTSmS2ZqQ9CxYYAd6uiYdg/h5/h001.b5b2fdqmDbA2rDD3WktcgGA8nG4us9WpkfJ-fehq7qk)\
*七分钟*罗马克

最近,我花了很长时间来优化React代码,而显而易见的答案是,像往常一样,React.memo()。

[与Bun的部分前置的力量](https://link.mail.beehiiv.com/ss/c/u001.DNYuWskNLZN5iE3d5ylPw9Yzs-bcwnEVCWGYi6hqVE6M5kh_ez1loQcYC8sKrYb9QVyXaEgZkfHM4HE9jO__KTcieOkxFRi6tMoC54_kzkppcpacj8YMAdtUra8UdoJVcfRV3V1GIMzBupI9YWgRKhQR2ZfX_kgfojZJosyiE4uZ6DmvLb86hZ8OGwrL_V25mFcJ9G9RyyW8v_A1Bhds22Zt50H7wHPg6RK-07LehExy5ztvtdC9c484PxRiUkKS/455/hTSmS2ZqQ9CxYYAd6uiYdg/h6/h001.lIvt4TLaj0hgbFOw78TxSb3hSTGmiljZaoyruWseU98)\
*五分钟*阿拉尔罗卡

借助Bun,解锁部分预渲染的能力,轻松优化Web应用程序性能和包尺寸。

#


