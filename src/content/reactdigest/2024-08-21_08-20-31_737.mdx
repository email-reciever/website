---
layout: ../../layouts/BlogLayout.astro
title: RD#462 Web Workers, Comlink, Vite and TanStack Query
description: RD#462 Web Workers, Comlink, Vite and TanStack Query
date: 星期日 06 晚上 六月 30o 2024
author: reactdigest
origin_url: https://newsletter.reactdigest.net/p/web-workers-comlink-vite-tanstack-query
origin_site: https://newsletter.reactdigest.net/p/web-workers-comlink-vite-tanstack-query
translated: true
avatar: /media-source/reactdigest-ico.png
---

import { Detail } from '@/components/Detail.tsx';
import { Reference } from '@/components/Reference.tsx';

<Reference client:only="react" title="RD#462 Web Workers, Comlink, Vite and TanStack Query" url="https://newsletter.reactdigest.net/p/web-workers-comlink-vite-tanstack-query" />

<Detail client:only="react">
	[Read Online](https://link.mail.beehiiv.com/ss/c/u001.3mTwTBe_1W4fLvRj4unk8hErXB2vrDHg5DYaj51xP1Vp6D5xaVPNiiJDHJUsNbmf20Wk7YkXC9LCdbVkqZlRnKfEQn70lEXLIl72aglMC1wo5-dxS6mJVrglAkdLfXe6gikWoxLvUhbVOXuo9d5Kowgv4pVxZ-1FmVaeMqk57xGPeRkjsSwZi2IW_X9cLCNXth8N4N0B5UMmRLf7BQI2BRj_Yf5cKdHEq98ftBgeT9NHeRrIl-HCLG6ISirKMTZzw1bYlPfSsqSmOr0uiKI7Vrp7C4BqMSJTezbFy1rL4KcUrR7X8EYPjDIk2dqjo8U1qRTstfzdlOUTPACXBt-SWnG0Xa8rMaEzA0WNo7ENJRvcNJsKNqfOF3zB5VfzE0zDJhr_aBu5s9xg-i_3rbnPEJGmi3kwzGQDTlTIFHSV3X9ttUeVpBfbD43SVvKLCMwFmOrPRT15DfNmqOQskH0YWgi8UNpaUtbmCPip-IXv3_U7VlKbktPitbhUwuaVYt495waVn2H8XQXRzylPmFjicF9F7zFJ2gwZePjQ_wqk6FrhH9TW-NNSCC0FT0qSPIxTFT7kvlO3wg72sewG-dYu49Emju6SkN0UZQK6GIL00e28rwGcX0OzzVGZb6ZVnR1JBOL9DObmBCXc0T70qLbiiQGH-hkI9G3J02O4M91n1adpDTFen-qXNt5Hzt6NqIwG/47n/VsoaSShXRzKYMicxtWJ71Q/h0/h001.-aB5NLz6cDfQc-mxs0RALD6SpYc0CwVfCdiyg_Uh2Xc)

![](https://link.mail.beehiiv.com/ss/o/u001.Btu2bd7uwPPtNpvEhFUmtA/47n/VsoaSShXRzKYMicxtWJ71Q/ho.gif)

[Web Workers, Comlink, Vite and TanStack Query](https://link.mail.beehiiv.com/ss/c/u001.aPX4i1CZjyg0TJtq3966ENtvq_odNnpHkpdvDJ2PhR_jaHyWYurvjzOU9DObDw5acY_7TQfnX0kfZOmDpAuyIWhMsmiYhnZosGsy1AJ89kwtYQMkdVXbiQN9EB7BZdBudkC6KfX5qN1rFPx0i8OXH-mB8X41mw0hM3gt75QTfVTxcEhpDYDMuhozxqECcf-00hvh3ZRHY7EHtrhsGNzbyzw1KJzKB37VfqQ3CfqJ5grl5I6zHSAnL6nKy7x5IbXK/47n/VsoaSShXRzKYMicxtWJ71Q/h1/h001.OJCDFtql5mdluUcCypEdlsL2YyVlauEdV2oTfksYvLs)  
_6 minutes_ by John Reilly

Web Workers are a great way to offload work from the main thread. Comlink is a delightful way to communicate with Web Workers. TanStack Query is an awesome way to bring them together.

[Tests are dead. Meticulous AI is here.](https://link.mail.beehiiv.com/ss/c/u001.96pnkUdR2Et9YTtP31beqa3JwGFc7SR4VfYwt4lGl6BqJbWmR8Zr6peVAmAulyzA37hCquJL7kvZO-rkPj6htQ/47n/VsoaSShXRzKYMicxtWJ71Q/h2/h001.J6yr5y-DIVx_260_1AbyR6T2L53Nc9zJwxnavtFdv90)  
_sponsored by Meticulous_

Meticulous AI is a tool which automatically creates and maintains a continuously evolving e2e UI test suite that covers every corner of your application – with no developer intervention required whatsoever. Backed by CTO of GitHub, Guillermo Rauch (next.js author), yc and others, it's built from the Chromium level up with a deterministic scheduling engine – making it the only testing tool that eliminates flakes.

[Wait for pending: A Suspense algorithm exploration](https://link.mail.beehiiv.com/ss/c/u001.-6zc62lCDQsu_fY2A1vmVQOGIYIbQOa41zU84dQuydKH0E-FTzEobjF57WvbQLlQ_ayN11wPJxJq_uTjxmCYS0bn2tArVqQd7e6FLr97x6bKrq7o7OZPYFv8gAXMsvHf8jCM0zI_Dx1-vRHZoGs_Q6fpoUg9z3UGpe3KFZRbcBitGlw-oum5wBbuHzS3nTdkHdvmOPrursBeyf0lrH7Y1mp9ODX-Ec5dsSyqpjEMiEzhr18IqilOBUymoxvFLGfeCbQSTf4U9UsjKvAlPthe2x7bHgxie95uF3SsaLeNO1o/47n/VsoaSShXRzKYMicxtWJ71Q/h3/h001.m3NBloOi_ZHOwFkTL1gtZbLs1AuWym_G6gVEjSj99dQ)  
_5 minutes_ by Alex Reardon

'Wait for pending' is an interesting variation of the react@18 and react@19 Suspense algorithms. For flat async trees, 'wait for pending' allows for fast calling of render functions, and minimal re-renders. For trees with nested async components, child async components will have their initial render called slower than the react@18 algorithm.

[Component, colocation, composition](https://link.mail.beehiiv.com/ss/c/u001.0APXl0QZL7fWOKx6hVh63rJvwVhne07AblaaahAqv4tmiugoqvYPzGiJrDdrvM4xaA5xrM0CZpfjrRZd-Rb8b_fxycE05oZI0rZx5pxikssqWPyCIb89JmKH1W1FIp02hDZMXuSREd73nl2_Q2vySZUnnWzGEl7Pfxaxi9H06jnrrIuotQ697YgK8XLBUdZfa8A5PQmvPr0ltU2-annnMnzNTjlXaFHXnO_Xa7EqD9k9-maQW96iCDmlvHx0pdvU/47n/VsoaSShXRzKYMicxtWJ71Q/h4/h001.Cxv2eA-TTzWtx-V95Eoxb6hLSKNDg53_Ai1IyxSdQXo)  
_10 minutes_ by Bobae Kang

Bobae’s take on the latest React drama and what it reveals about React's evolving strategy and ecosystem.

[Using the Intersection Observer API with React](https://link.mail.beehiiv.com/ss/c/u001.UBh74i5ibvpiWu-3SxqXvmT1tfMGfxA3v_DxMTfUzLX2DhXhlHu0BEoUbxctUeCmuYy73flBw1IkDBNhsS6-JEZl7u2qhudk-cNEgYVvpOk6RdBWC2eD1xd1H1nnhIHnNHvn9ikLVvPyuR7ll7EDWsasoOPVne3AeOVkAvjmibw2XhUeFJcLsIbXwUZeCiEPzrZypedXjWb4CDmxyqBTj1i5m2-z-Lgw8lFiygkGMayImO0KT4Q9KrZjvO-FRvwoDWA195UhxULtcmNwp6PbwQ/47n/VsoaSShXRzKYMicxtWJ71Q/h5/h001.kz4gjuJYhG5NiLv0DgJjJMbgQ-9T1O7NMv6tEwsLtso)  
_3 minutes_ by Corina Udrescu

The Intersection Observer API allows us to easily check if two items are intersecting.

#
</Detail>

[阅读在线](https://link.mail.beehiiv.com/ss/c/u001.3mTwTBe_1W4fLvRj4unk8hErXB2vrDHg5DYaj51xP1Vp6D5xaVPNiiJDHJUsNbmf20Wk7YkXC9LCdbVkqZlRnKfEQn70lEXLIl72aglMC1wo5-dxS6mJVrglAkdLfXe6gikWoxLvUhbVOXuo9d5Kowgv4pVxZ-1FmVaeMqk57xGPeRkjsSwZi2IW_X9cLCNXth8N4N0B5UMmRLf7BQI2BRj_Yf5cKdHEq98ftBgeT9NHeRrIl-HCLG6ISirKMTZzw1bYlPfSsqSmOr0uiKI7Vrp7C4BqMSJTezbFy1rL4KcUrR7X8EYPjDIk2dqjo8U1qRTstfzdlOUTPACXBt-SWnG0Xa8rMaEzA0WNo7ENJRvcNJsKNqfOF3zB5VfzE0zDJhr_aBu5s9xg-i_3rbnPEJGmi3kwzGQDTlTIFHSV3X9ttUeVpBfbD43SVvKLCMwFmOrPRT15DfNmqOQskH0YWgi8UNpaUtbmCPip-IXv3_U7VlKbktPitbhUwuaVYt495waVn2H8XQXRzylPmFjicF9F7zFJ2gwZePjQ_wqk6FrhH9TW-NNSCC0FT0qSPIxTFT7kvlO3wg72sewG-dYu49Emju6SkN0UZQK6GIL00e28rwGcX0OzzVGZb6ZVnR1JBOL9DObmBCXc0T70qLbiiQGH-hkI9G3J02O4M91n1adpDTFen-qXNt5Hzt6NqIwG/47n/VsoaSShXRzKYMicxtWJ71Q/h0/h001.-aB5NLz6cDfQc-mxs0RALD6SpYc0CwVfCdiyg_Uh2Xc)

![](https://link.mail.beehiiv.com/ss/o/u001.Btu2bd7uwPPtNpvEhFUmtA/47n/VsoaSShXRzKYMicxtWJ71Q/ho.gif)

[网络工作者、Comlink、Vite 和 TanStack 查询](https://link.mail.beehiiv.com/ss/c/u001.aPX4i1CZjyg0TJtq3966ENtvq_odNnpHkpdvDJ2PhR_jaHyWYurvjzOU9DObDw5acY_7TQfnX0kfZOmDpAuyIWhMsmiYhnZosGsy1AJ89kwtYQMkdVXbiQN9EB7BZdBudkC6KfX5qN1rFPx0i8OXH-mB8X41mw0hM3gt75QTfVTxcEhpDYDMuhozxqECcf-00hvh3ZRHY7EHtrhsGNzbyzw1KJzKB37VfqQ3CfqJ5grl5I6zHSAnL6nKy7x5IbXK/47n/VsoaSShXRzKYMicxtWJ71Q/h1/h001.OJCDFtql5mdluUcCypEdlsL2YyVlauEdV2oTfksYvLs)\
*六分钟*约翰·雷利

Web Workers 是从主线下卸载工作的一种很好的方法. Comlink 是与 Web Workers 沟通的绝佳方式. TanStack Query 是将他们聚集在一起的绝佳方法。

[测试已经死了!精密的AI在这里。](https://link.mail.beehiiv.com/ss/c/u001.96pnkUdR2Et9YTtP31beqa3JwGFc7SR4VfYwt4lGl6BqJbWmR8Zr6peVAmAulyzA37hCquJL7kvZO-rkPj6htQ/47n/VsoaSShXRzKYMicxtWJ71Q/h2/h001.J6yr5y-DIVx_260_1AbyR6T2L53Nc9zJwxnavtFdv90)\
*由 Meticulous 赞助*

精密的人工智能是一个自动创建和维护不断发展的e2e UI测试套件的工具,涵盖您的应用程序的每个角落 - 无需任何开发人员干预。

[等待等待:暂停算法探索](https://link.mail.beehiiv.com/ss/c/u001.-6zc62lCDQsu_fY2A1vmVQOGIYIbQOa41zU84dQuydKH0E-FTzEobjF57WvbQLlQ_ayN11wPJxJq_uTjxmCYS0bn2tArVqQd7e6FLr97x6bKrq7o7OZPYFv8gAXMsvHf8jCM0zI_Dx1-vRHZoGs_Q6fpoUg9z3UGpe3KFZRbcBitGlw-oum5wBbuHzS3nTdkHdvmOPrursBeyf0lrH7Y1mp9ODX-Ec5dsSyqpjEMiEzhr18IqilOBUymoxvFLGfeCbQSTf4U9UsjKvAlPthe2x7bHgxie95uF3SsaLeNO1o/47n/VsoaSShXRzKYMicxtWJ71Q/h3/h001.m3NBloOi_ZHOwFkTL1gtZbLs1AuWym_G6gVEjSj99dQ)\
*五分钟*亚历克斯·里尔顿

“等待等待”是 react@18 和 react@19 暂停算法的一个有趣的变体. 对于平面async 树,“等待等待等待”允许快速调用渲染函数,以及最少的再渲染。

[组件、配置、组成](https://link.mail.beehiiv.com/ss/c/u001.0APXl0QZL7fWOKx6hVh63rJvwVhne07AblaaahAqv4tmiugoqvYPzGiJrDdrvM4xaA5xrM0CZpfjrRZd-Rb8b_fxycE05oZI0rZx5pxikssqWPyCIb89JmKH1W1FIp02hDZMXuSREd73nl2_Q2vySZUnnWzGEl7Pfxaxi9H06jnrrIuotQ697YgK8XLBUdZfa8A5PQmvPr0ltU2-annnMnzNTjlXaFHXnO_Xa7EqD9k9-maQW96iCDmlvHx0pdvU/47n/VsoaSShXRzKYMicxtWJ71Q/h4/h001.Cxv2eA-TTzWtx-V95Eoxb6hLSKNDg53_Ai1IyxSdQXo)\
*十分钟*博比·康

Bobae对最新React戏剧和它揭示了React的战略和生态系统的演变。

[使用Intersection Observer API 与 React](https://link.mail.beehiiv.com/ss/c/u001.UBh74i5ibvpiWu-3SxqXvmT1tfMGfxA3v_DxMTfUzLX2DhXhlHu0BEoUbxctUeCmuYy73flBw1IkDBNhsS6-JEZl7u2qhudk-cNEgYVvpOk6RdBWC2eD1xd1H1nnhIHnNHvn9ikLVvPyuR7ll7EDWsasoOPVne3AeOVkAvjmibw2XhUeFJcLsIbXwUZeCiEPzrZypedXjWb4CDmxyqBTj1i5m2-z-Lgw8lFiygkGMayImO0KT4Q9KrZjvO-FRvwoDWA195UhxULtcmNwp6PbwQ/47n/VsoaSShXRzKYMicxtWJ71Q/h5/h001.kz4gjuJYhG5NiLv0DgJjJMbgQ-9T1O7NMv6tEwsLtso)\
*三分钟*由 Corina Udrescu 撰写

交叉观察器 API 允许我们轻松地检查两个物体是否交叉。

#


